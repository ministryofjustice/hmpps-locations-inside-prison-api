---
# Per environment values which override defaults in hmpps-locations-inside-prison-api/values.yaml

generic-service:
  replicaCount: 2

  ingress:
    host: locations-inside-prison-api-train.hmpps.service.justice.gov.uk

  env:
    APPLICATIONINSIGHTS_CONFIGURATION_FILE: applicationinsights.dev.json
    API_BASE_URL_OAUTH: https://sign-in-preprod.hmpps.service.justice.gov.uk/auth
    API_BASE_URL_PRISONER_SEARCH: http://wiremock:8090
    HMPPS_SQS_LOCALSTACK_URL: http://localstack:4566
    SERVICE_ACTIVE_PRISONS: "BCI"
    SPRING_ACTIVE_PROFILES: train

  extraContainers:
    - name: wiremock
      image: "quay.io/hmpps/cp-wiremock"
      imagePullPolicy: IfNotPresent
      ports:
        - name: http
          containerPort: 8090
          protocol: TCP
    - name: localstack
      image: "quay.io/hmpps/cp-localstack"
      imagePullPolicy: IfNotPresent
      ports:
        - name: http
          containerPort: 4566
          protocol: TCP

  scheduledDowntime:
    enabled: false

# CloudPlatform AlertManager receiver to route prometheus alerts to slack
# See https://user-guide.cloud-platform.service.justice.gov.uk/documentation/monitoring-an-app/how-to-create-alarms.html#creating-your-own-custom-alerts
generic-prometheus-alerts:
  businessHoursOnly: true
  alertSeverity: digital-prison-service-dev
